<?xml version="1.0" encoding="UTF-8"?><ootb-template>
    <template-metadata name="ERASE_SWITCH">
        <template-details>
            <description/>
            <author>root</author>
            <tag-list/><tag-list/>
        </template-details>
        <parameter-metadata>
            <param-group cliName="cli command set" isMandatory="true" name="ERASE_SWITCH parameters">
                <description>Parameters for ERASE_SWITCH</description>
                <parameter name="IntfName">
                    <description>IntfName</description>
                    <default-value label="IntfName">IntfName</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="UpIntfName">
                    <description>UpIntfName</description>
                    <default-value label="UpIntfName">UpIntfName</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="DownIntfName">
                    <description>DownIntfName</description>
                    <default-value label="DownIntfName">DownIntfName</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="AllIntf">
                    <description>AllIntf</description>
                    <default-value label="AllIntf">AllIntf</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="EveryIntf">
                    <description>EveryIntf</description>
                    <default-value label="EveryIntf">EveryIntf</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="DeviceName">
                    <description>DeviceName</description>
                    <default-value label="DeviceName">DeviceName</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="ProductSeries">
                    <description>ProductSeries</description>
                    <default-value label="ProductSeries">ProductSeries</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="SysObjectID">
                    <description>SysObjectID</description>
                    <default-value label="SysObjectID">SysObjectID</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="IPAddress">
                    <description>IPAddress</description>
                    <default-value label="IPAddress">IPAddress</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="SoftwareVersion">
                    <description>SoftwareVersion</description>
                    <default-value label="SoftwareVersion">SoftwareVersion</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="SerialNumber">
                    <description>SerialNumber</description>
                    <default-value label="SerialNumber">SerialNumber</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="ModelNumber">
                    <description>ModelNumber</description>
                    <default-value label="ModelNumber">ModelNumber</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="ImageName">
                    <description>ImageName</description>
                    <default-value label="ImageName">ImageName</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="ImageVersion">
                    <description>ImageVersion</description>
                    <default-value label="ImageVersion">ImageVersion</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="VlanId">
                    <description>VlanId</description>
                    <default-value label="VlanId">VlanId</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="VlanName">
                    <description>VlanName</description>
                    <default-value label="VlanName">VlanName</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="ProductType">
                    <description>ProductType</description>
                    <default-value label="ProductType">ProductType</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
                <parameter name="ImageFileName">
                    <description>ImageFileName</description>
                    <default-value label="ImageFileName">ImageFileName</default-value>
                    <data-type>DB</data-type>
                    <mandatory>true</mandatory>
                    <isGlobal>false</isGlobal>
                    <syntax>
                        <min>null</min>
                        <max>null</max>
                        <pattern/>
                    </syntax>
                    <isGlobalVariable>false</isGlobalVariable>
                </parameter>
            </param-group>
        </parameter-metadata>
    </template-metadata>
    <config>
        <device-filtering-details>
            <family value="Routers,Switches and Hubs">
                <min-supported-imageversion value=""/>
            </family>
        </device-filtering-details>
        <cli name="cli command set">
            <clicommand>!
! IntfName = $IntfName
! UpIntfName = $UpIntfName
! DownIntfName = $DownIntfName
! AllIntf = $AllIntf
! EveryIntf = $EveryIntf
! DeviceName = $DeviceName
! ProductSeries = $ProductSeries
! SysObjectID = $SysObjectID
! IPAddress = $IPAddress
! SoftwareVersion = $SoftwareVersion
! SerialNumber = $SerialNumber
! ModelNumber = $ModelNumber
! ImageName = $ImageName
! ImageFileName = $ImageFileName
! ImageVersion = $ImageVersion
! VlanId = $VlanId
! VlanName = $VlanName
! ProductType = $ProductType
!
#if ($ModelNumber.matches(".*C3560CG.*") &amp;&amp; $SoftwareVersion.matches("^15.2.*"))
!
kron occurrence KO-1M in 1 recurring system-startup
policy-list EEM-ERASE-SWITCH
!
kron policy-list EEM-ERASE-SWITCH
cli event manager run EEM-ERASE-SWITCH
!
no event manager applet EEM-ERASE-SWITCH

event manager applet EEM-ERASE-SWITCH authorization bypass trap
 event none maxrun 55
 action 101 cli command "enable"
 action 102 cli command "copy running-config startup-config"
 action 111 cli command "delete /force flash:/ARCHIVE/*"
 action 112 cli command "delete /force flash:/EEM/*"
 action 121 cli command "delete /force flash:/vlan.dat"
 action 131 cli command "delete /force flash:/config.text"
!
 action 201 cli command "show flash:"
 action 221 regexp ".* config.text" $_cli_result junk
 action 231 if $_regexp_result eq 0
 action 241 puts "SAFE TOO RELOAD"
 action 289 reload
 action 299 end
!
!
#end



</clicommand>
        </cli>
    </config>
</ootb-template>